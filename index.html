<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">

    <style>
        body{
        	background-color: pink;
        }
        #zona{
            width: 800px;
            height: 500px;
            background-color: black;
			margin: auto;
        }
		#plataforma{
			width: 100px;
			height: 20px;
			background-color: blue;
			position: relative;
			top: 465px;
			left: 350px; 
		}
		#pelota{
			width: 10px;
			height: 10px;
			background-color: red;
			position: relative;
			top: 245px;
			left: 395px;
			border-radius: 5px;
		}
    </style>

</head>

<body>

    <h1>BreakOut</h1>

    <div id=zona>
		<div id=pelota></div>
		<div id=plataforma></div>
	</div>

	<script>
		plataforma.x = 350

		onkeydown = moverPlataforma

		function moverPlataforma(evento){
			//console.log(evento.keyCode)
			
			if (evento.keyCode == 37)	//Izqda.
				plataforma.x -= 5
			if (evento.keyCode == 39)	//Dcha.
				plataforma.x += 5
			
			plataforma.style.left = plataforma.x + 'px'
			
			event.preventDefault()
		}

		//La pelota es un poco más complicada
		pelota.x = 395
		pelota.y = 245
		pelota.dirX = 3
		pelota.dirY = -3

		setInterval(moverPelota, 30)

		function moverPelota(){
			pelota.x += pelota.dirX
			pelota.y += pelota.dirY

			//Controlar el rebote
			if (pelota.x <= 0 || pelota.x >= 790)
				pelota.dirX *= -1

			if (pelota.y <= 0 || pelota.y >= 490)
				pelota.dirY *= -1

			//Rebote en plataforma
			if (pelota.y >= 465 && pelota.y <= 480)
				if(pelota.x >= plataforma.x && pelota.x < plataforma.x + 100)
					pelota.dirY *= -1

			//Actualizar posición
			pelota.style.left = pelota.x + 'px'
			pelota.style.top = pelota.y + 'px'
		}
	</script>
</body>
</html>
